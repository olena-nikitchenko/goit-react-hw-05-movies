{"version":3,"file":"static/js/186.e0def121.chunk.js","mappings":"mTAQO,SAAeA,IAAtB,4CAAO,OAAP,oBAAO,oGACkBC,EAAAA,EAAAA,IAAA,qBADlB,cACCC,EADD,yBAEEA,EAASC,KAAKC,SAFhB,kEAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,uFACkBL,EAAAA,EAAAA,IAAU,gBAAiB,CAChDM,OAAQ,CAAED,MAAOA,KAFd,cACCJ,EADD,yBAKEA,EAASC,KAAKC,SALhB,kEAQA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAAiCC,GAAjC,uFACkBR,EAAAA,EAAAA,IAAA,iBAAoBQ,IADtC,cACCP,EADD,yBAEEA,EAASC,MAFX,kEAKA,SAAeO,EAAtB,+CAAO,OAAP,oBAAO,WAA8BD,GAA9B,uFACkBR,EAAAA,EAAAA,IAAA,iBAAoBQ,EAApB,aADlB,cACCP,EADD,yBAEEA,EAASC,KAAKQ,MAFhB,kEAKA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAiCH,GAAjC,uFACkBR,EAAAA,EAAAA,IAAA,iBAAoBQ,EAApB,aADlB,cACCP,EADD,yBAEEA,EAASC,KAAKC,SAFhB,kEA5BPH,EAAAA,EAAAA,SAAAA,QAAyB,+BACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CAAC,EACzBA,EAAAA,EAAAA,SAAAA,OAAAA,QAJgB,mCAKhBA,EAAAA,EAAAA,SAAAA,OAAAA,SAAoC,O,yKCArB,SAASY,IACtB,IAAQC,GAAWC,EAAAA,EAAAA,MAAXD,OACR,GAA4BE,EAAAA,EAAAA,UAAS,QAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAOG,EAAP,KAAqBC,EAArB,KA6BA,OA3BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBADT,wCAGd,2FACEL,EAAU,WADZ,mBAI+BN,EAAAA,EAAAA,IAAkBE,EAAQ,CACnDU,OAAQF,EAAWE,SALzB,OAIUL,EAJV,OAQIC,EAAgBD,GAEhBD,EAAU,YAVd,gDAYIO,EAAAA,GAAAA,MAAY,kDACZP,EAAU,YAbd,0DAHc,sBAsBd,OAtBc,mCAoBdQ,GAEO,WACLJ,EAAWK,OACZ,CACF,GAAE,CAACb,KAGF,gCACc,YAAXG,IAAwB,SAAC,IAAD,IACxBE,EAAaS,OAAS,GACrB,wBACGT,EAAaU,KAAI,gBAAGpB,EAAH,EAAGA,GAAIqB,EAAP,EAAOA,QAASC,EAAhB,EAAgBA,eAAhB,OAChB,2BACE,wBAAKA,EAAeC,YACpB,uBAAIF,MAFGrB,EADO,OAQpB,uBAAG,kDAIV,C","sources":["api/api.js","components/Reviews/Reviews.jsx"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '53263a417bdf2aa4ac46d1a4836d7bf0';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\naxios.defaults.params = {};\naxios.defaults.params['api_key'] = API_KEY;\naxios.defaults.params['language'] = 'en-US';\n\nexport async function fetchMoviesTrend() {\n  const response = await axios.get(`/trending/all/day`);\n  return response.data.results;\n}\n\nexport async function fetchSearchMovies(query) {\n  const response = await axios.get('/search/movie', {\n    params: { query: query },\n  });\n\n  return response.data.results;\n}\n\nexport async function fetchDetailsMovie(id) {\n  const response = await axios.get(`/movie/${id}`);\n  return response.data;\n}\n\nexport async function fetchCastMovie(id) {\n  const response = await axios.get(`/movie/${id}/credits`);\n  return response.data.cast;\n}\n\nexport async function fetchReviewsMovie(id) {\n  const response = await axios.get(`/movie/${id}/reviews`);\n  return response.data.results;\n}\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { Loader } from 'components/Loader/Loader';\nimport { fetchReviewsMovie } from '../../api/api.js';\n\nexport default function Reviews() {\n  const { itemId } = useParams();\n  const [status, setStatus] = useState('idle');\n  const [reviewsMovie, setReviewsMovie] = useState([]);\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    async function fetchReviewsMovieCard() {\n      setStatus('pending');\n\n      try {\n        const reviewsMovie = await fetchReviewsMovie(itemId, {\n          signal: controller.signal,\n        });\n\n        setReviewsMovie(reviewsMovie);\n\n        setStatus('resolved');\n      } catch (error) {\n        toast.error('Something went wrong. Please, reload the page.');\n        setStatus('rejected');\n      }\n    }\n\n    fetchReviewsMovieCard();\n\n    return () => {\n      controller.abort();\n    };\n  }, [itemId]);\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {reviewsMovie.length > 0 ? (\n        <ul>\n          {reviewsMovie.map(({ id, content, author_details }) => (\n            <li key={id}>\n              <h2>{author_details.username}</h2>\n              <p>{content}</p>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>You will be the first to leave a review! :)</p>\n      )}\n    </>\n  );\n}\n"],"names":["fetchMoviesTrend","axios","response","data","results","fetchSearchMovies","query","params","fetchDetailsMovie","id","fetchCastMovie","cast","fetchReviewsMovie","Reviews","itemId","useParams","useState","status","setStatus","reviewsMovie","setReviewsMovie","useEffect","controller","AbortController","signal","toast","fetchReviewsMovieCard","abort","length","map","content","author_details","username"],"sourceRoot":""}